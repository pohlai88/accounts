{
  "$schema": "./node_modules/syncpack/schema.json",
  "source": [
    "package.json",
    "apps/*/package.json",
    "packages/*/package.json",
    "services/*/package.json"
  ],
  "dependencyTypes": ["dev", "prod", "peer", "pnpmOverrides"],
  "versionGroups": [
    {
      "label": "Internal @aibos packages MUST use workspace protocol",
      "dependencies": ["@aibos/**"],
      "specifierTypes": ["!workspace-protocol"],
      "isBanned": true
    },
    {
      "label": "Workspace packages should use workspace:* for internal deps",
      "dependencies": ["@aibos/**"],
      "packages": ["**"],
      "dependencyTypes": ["prod", "dev"],
      "pinVersion": "workspace:*"
    },
    {
      "label": "Critical external dependencies must be consistent across packages",
      "dependencies": [
        "react",
        "react-dom", 
        "zod",
        "typescript",
        "next",
        "drizzle-orm",
        "vitest",
        "winston",
        "@types/node",
        "@types/react"
      ],
      "packages": ["**"],
      "dependencyTypes": ["prod", "dev"]
    }
  ],
  "semverGroups": [
    {
      "label": "Use caret ranges for external dependencies",
      "dependencies": ["**"],
      "packages": ["**"],
      "dependencyTypes": ["prod", "dev"],
      "range": "^"
    },
    {
      "label": "pnpm overrides should use caret ranges",
      "dependencies": ["**"],
      "packages": ["**"],
      "dependencyTypes": ["pnpmOverrides"],
      "range": "^"
    }
  ]
}
